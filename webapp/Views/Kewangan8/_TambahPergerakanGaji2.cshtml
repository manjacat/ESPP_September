@model eSPP.Models.PergerakanGajiModels
<div>
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
            &times;
        </button>
        <h4 class="modal-title">
            Tambah Lot <span class="error"></span>
        </h4>
    </div>
    <div class="modal-body no-padding">

        @using (Html.BeginForm("TambahPergerakanGaji", "Kewangan8", FormMethod.Post, new { @class = "smart-form", id = "form-tambah" }))
        {
            @Html.AntiForgeryToken()
            @Html.ValidationSummary(true, "", new { @class = "text-danger" })
            <fieldset>
                <div class="row">
                    <div class="col col-6">
                        <section>
                            <div class="row">
                                <label class="label col col-4">Jawatan</label>
                                <div class="col col-8">
                                    <label class="input">
                                        @Html.Editor("HR_JAWATAN", new { htmlAttributes = new { @class = "form-control" } })
                                    </label>
                                </div>
                            </div>
                        </section>
                    </div>
                    <div class="col col-6">
                        <section>
                            <div class="row">
                                <label class="label col col-4">Kod Gaji Berkomputer</label>
                                <div class="col col-6">
                                    <label class="input">
                                        @Html.Editor("HR_KOD_GAJI", new { htmlAttributes = new { @class = "form-control" } })
                                    </label>
                                </div>
                            </div>
                        </section>
                    </div>
                </div>
                <div class="row">
                    <div class="col col-6">
                        <section>
                            <div class="row">
                                <label class="label col col-4">Sistem Saraan</label>
                                <div class="col col-3">
                                    <label class="input">
                                        @Html.Editor("HR_SISTEM", new { htmlAttributes = new { @class = "form-control", disabled = "disabled" } })
                                    </label>
                                </div>
                            </div>
                        </section>

                        <section>
                            <div class="row">
                                <label class="label col col-4">Gaji Min</label>
                                <div class="col col-3">
                                    <label class="input">
                                        @Html.Hidden("HR_MATRIKS_GAJI_P", new { htmlAttributes = new { @class = "form-control", disabled = "disabled" } })
                                        @Html.Editor("HR_GAJI_MIN_P", new { htmlAttributes = new { @class = "form-control", disabled = "disabled" } })
                                    </label>
                                </div>

                                <label class="label col col-2">Gaji Max</label>
                                <div class="col col-3">
                                    <label class="input">
                                        @Html.Editor("HR_JAWATAN", new { htmlAttributes = new { @class = "form-control" } })
                                    </label>
                                </div>
                            </div>
                        </section>

                        <section>
                            <div class="row">
                                <label class="label col col-4">Tarikh Pergerakan Gaji</label>
                                <div class="col col-3">
                                    <label class="input">
                                        @Html.Editor("HR_KOD_GAJI", new { htmlAttributes = new { @class = "form-control" } })
                                    </label>
                                </div>
                            </div>
                        </section>

                        <section>
                            <div class="row">
                                <label class="label col col-4">Tarikh Perubahan</label>
                                <div class="col col-3">
                                    <label class="input">
                                        @Html.Editor("HR_SISTEM", new { htmlAttributes = new { @class = "form-control", disabled = "disabled" } })
                                    </label>
                                </div>
                            </div>
                        </section>

                        <section>
                            <div class="row">
                                <label class="label col col-4">Elaun Kritikal</label>
                                <div class="col col-3">
                                    <label class="input">
                                        @Html.Hidden("HR_MATRIKS_GAJI_P", new { htmlAttributes = new { @class = "form-control", disabled = "disabled" } })
                                    </label>
                                </div>
                            </div>
                        </section>

                        <section>
                            <div class="row">
                                <label class="label col col-4">Jenis Perubahan</label>
                                <div class="col col-3">
                                    <label class="select">
                                        @Html.Editor("HR_GAJI_MIN_P", new { htmlAttributes = new { @class = "form-control", disabled = "disabled" } })
                                        <i></i>
                                    </label>
                                </div>
                            </div>
                        </section>

                        <section>
                            <div class="row">
                                <label class="label col col-4">Elaun Wilayah</label>
                                <div class="col col-3">
                                    <label class="input">
                                        @Html.Editor("HR_GAJI_MAX_P", new { htmlAttributes = new { @class = "form-control", disabled = "disabled" } })
                                    </label>
                                </div>
                            </div>
                        </section>

                    </div>
                </div>
                <div class="row">
                    <div class="col col-6">
                        <section>
                            <div class="row">
                                <label class="label col col-4">Jenis Pergerakan Gaji</label>
                                <div class="col col-3">
                                    <div class="inline-group">
                                        <label class="radio">
                                            @Html.EditorFor(model => model.HR_TARIKH_MULA, new { htmlAttributes = new { @class = "form-control" } })
                                            <i></i>Mendatar
                                        </label>
                                        <label class="radio">
                                            @Html.Editor("HR_TARIKH_KEYIN", new { htmlAttributes = new { @class = "form-control" } })
                                            <i></i>Statik
                                        </label>
                                        <label class="radio">
                                            @Html.EditorFor(model => model.HR_PERGERAKAN_EKAL, new { htmlAttributes = new { @class = "form-control" } })
                                            <i></i>Anjakan
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </section>

                        <section>
                            <div class="row">
                                <label class="label col col-4">Gred</label>
                                <div class="col col-3">
                                    <label class="select">
                                        @Html.DropDownListFor(model => model.HR_KOD_PERUBAHAN, new SelectList(ViewBag.HR_AKTIF_IND, "Value", "Text"), String.Empty, htmlAttributes: new { @class = "form-control" })
                                        <i></i>
                                    </label>
                                </div>
                            </div>
                        </section>

                        <section>
                            <div class="row">
                                <label class="label col col-4">Gaji Min</label>
                                <div class="col col-3">
                                    <label class="input">
                                        @Html.EditorFor(model => model.HR_PERGERAKAN_EWIL, new { htmlAttributes = new { @class = "form-control" } })
                                        @Html.RadioButtonFor(model => model.HR_JENIS_PERGERAKAN, "D", htmlAttributes: new { @class = "form-control" })
                                    </label>
                                </div>

                                <label class="label col col-2">Gaji Max</label>
                                <div class="col col-3">
                                    <label class="input">
                                        @Html.RadioButtonFor(model => model.HR_JENIS_PERGERAKAN, "S", htmlAttributes: new { @class = "form-control" })
                                    </label>
                                </div>
                            </div>
                        </section>

                        <section>
                            <div class="row">
                                <label class="label col col-4">Pergerakan Gaji Pokok</label>
                                <div class="col col-3">
                                    <label class="input">
                                        @Html.RadioButtonFor(model => model.HR_JENIS_PERGERAKAN, "J", htmlAttributes: new { @class = "form-control" })
                                    </label>
                                </div>
                            </div>
                        </section>

                        <section>
                            <div class="row">
                                <label class="label col col-4">Perubahan Gaji</label>
                                <div class="col col-3">
                                    <label class="input">
                                        @Html.DropDownListFor(model => model.HR_GRED, new SelectList(ViewBag.HR_GRED, "Value", "Text"), String.Empty, htmlAttributes: new { @class = "form-control" })
                                    </label>
                                </div>
                            </div>
                        </section>

                        <section>
                            <div class="row">
                                <label class="label col col-4">Perubahan Elaun Kritikal</label>
                                <div class="col col-3">
                                    <label class="input">
                                        @Html.EditorFor(model => model.HR_MATRIKS_GAJI, new { htmlAttributes = new { @class = "form-control" } })
                                    </label>
                                </div>
                            </div>
                        </section>

                        <section>
                            <div class="row">
                                <label class="label col col-4">Pergerakan Elaun Kritikal</label>
                                <div class="col col-3">
                                    <label class="input">
                                        @Html.Editor("HR_GAJI_MIN", new { htmlAttributes = new { @class = "form-control" } })
                                    </label>
                                </div>
                            </div>
                        </section>

                        <section>
                            <div class="row">
                                <label class="label col col-4">Perubahan Elaun Wilayah</label>
                                <div class="col col-3">
                                    <label class="input">
                                        @Html.Editor("HR_GAJI_MAX", new { htmlAttributes = new { @class = "form-control" } })
                                    </label>
                                </div>
                            </div>
                        </section>

                        <section>
                            <div class="row">
                                <label class="label col col-4">Pergerakan Elaun Wilayah</label>
                                <div class="col col-3">
                                    <label class="input">
                                        @Html.EditorFor(model => model.HR_GAJI_BARU, new { htmlAttributes = new { @class = "form-control" } })
                                    </label>
                                </div>
                            </div>
                        </section>

                    </div>
                </div>
            </fieldset>
            <footer>
                <button type="submit" id="btn" class="btn btn-primary">
                    <span class="fa fa-save"></span> Simpan
                </button>
                <button type="reset" class="btn btn-default">
                    Reset
                </button>
                <button type="button" class="btn btn-default" data-dismiss="modal">
                    Kembali
                </button>
                <button type="button" class="btn btn-default" id="btn_coordinate">
                    <span class="fa fa-map-marker"></span> Koordinat
                </button>
            </footer>
        }

    </div>

</div><!-- /.modal-content -->
<script type="text/javascript">
    //$("form").attr({ "id": "tp", "class": "smart-form" })
    // DO NOT REMOVE : GLOBAL FUNCTIONS!

    $(document).ready(function () {

        var validateform = $("#form-tambah").validate({

            // Rules for form validation
            rules: {
                land_lot_name: {
                    required: true,
                    remote: {
                        url: "../Tanah/CariNamaLot",
                        type: "get",
                        data: {
                            lot_name: function(){
                                return $("#land_lot_name").val();
                            }
                        }
                    }
                },
                state: {
                    required: true
                },
                city: {
                    required: true
                },
                hak_milik: {
                    required: true
                },
                immensity: {
                    required: true,
                    number: true
                },
                category: {
                    required: true
                },
                mukim: {
                    required: true
                }
            },

            // Messages for form validation
            messages: {
                land_lot_name: {
                    required: "Nama Lot diperlukan"
                },
                state: {
                    required: "Negeri diperlukan"
                },
                city: {
                    required: "Bandar diperlukan"
                },
                hak_milik: {
                    required: "No. hak milik diperlukan"
                },
                immensity: {
                    required: "Luas diperlukan",
                    number: "Sila masukkan hanya nombor sahaja"
                },
                category: {
                    required: "Kategori diperlukan"
                },
                mukim: {
                    required: "Mukim diperlukan"
                }

            },

            // Do not change code below
            errorPlacement: function (error, element) {
                error.insertAfter(element.parent());
            }
        });
        var popup;
        $("#btn_coordinate").click(function () {
            debugger
            popup = window.open("@Url.Action("GetCoordinate", "Tanah")", "Coordinate", "toolbar=yes,scrollbars=yes,resizable=yes,top=250,left=1000,width=800,height=650");
            popup.focus();
        })
    });
    /*$(document).ready(function () {
        $("#main_asset_name").on("input", function () {
            debugger;
            $(".error").html("");
            $("#btn").removeAttr("disabled");
            var name = $(this).val();
            $.ajax({
                url: "/Tanah/ValidationAsset",
                type: "GET",
                data: { "name": name },
                dataType: "json",
                contentType: "application/json; charset=utf-8",
                success: function (data) {
                    debugger;
                    if (data == "ada")
                    {
                        $(".error").html("Nama Tanah Teleh Wujud").css({ "color": "red" });
                        $("#btn").attr({ "disabled": "disabled" });
                    }

                }
            })
        })
    });*/
</script>
